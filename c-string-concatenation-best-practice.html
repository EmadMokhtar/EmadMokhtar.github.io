<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="/theme/stylesheet/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="/theme/stylesheet/font-awesome.min.css">




    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

<meta name="author" content="EmadMokhtar" />
<meta name="description" content="Once I’ve start to learn .NET and C# I heard about the difference between string + concatenation operator and StringBuilder class in C# and how to use them and which on is better to perform string concatenation, so I thought to give it a real benchmark and see the results ..." />
<meta name="keywords" content="csharp">
<meta property="og:site_name" content="Emad Mokhtar's Framework"/>
<meta property="og:title" content="C# String Concatenation Best Practice"/>
<meta property="og:description" content="Once I’ve start to learn .NET and C# I heard about the difference between string + concatenation operator and StringBuilder class in C# and how to use them and which on is better to perform string concatenation, so I thought to give it a real benchmark and see the results ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/c-string-concatenation-best-practice.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2014-06-18 11:57:00+03:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/emadmokhtar.html">
<meta property="article:section" content=".net"/>
<meta property="article:tag" content="csharp"/>
<meta property="og:image" content="/images/profile.jpg">
  <title>Emad Mokhtar's Framework &ndash; C# String Concatenation Best Practice</title>
</head>
<body>
  <aside>
    <div>
      <a href="">
        <img src="/images/profile.jpg" alt="" title="">
      </a>
      <h1><a href=""></a></h1>
      <p>Geek developer who's in search of code perfection.</p>
      <nav>
        <ul class="list">
          <li><a href="/pages/projects.html#projects">Projects</a></li>
          <li><a href="https://emadmokhtar.github.io/resume" target="_blank">Resume</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-envelope-o" href="mailto:emad@emadmokhtar.com" target="_blank"><i class="fa fa-envelope-o"></i></a></li>
        <li><a class="sc-github" href="https://www.github.com/EmadMokhtar" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-stack-overflow" href="http://stackoverflow.com/users/373051/emad-mokhtar" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
        <li><a class="sc-facebook" href="https://www.facebook.com/emadmokhtarframework/" target="_blank"><i class="fa fa-facebook"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/emadmokhtar" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/emadmokhtar/" target="_blank"><i class="fa fa-linkedin"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="">Home</a>
      <a href="https://emadmokhtar.github.io/resume">Resume</a>
    </nav>

<article>
  <header>
    <h1 id="c-string-concatenation-best-practice">C# String Concatenation Best Practice</h1>
    <p>Posted on Wed 18 June 2014 in <a href="/category/net.html">.net</a></p>
  </header>
  <div>
    <p>Once I’ve start to learn .NET and C# I heard about the difference
between string <strong>+ concatenation operator</strong> and <strong>StringBuilder</strong> class
in C# and how to use them and which on is better to perform string
concatenation, so I thought to give it a real benchmark and see the
results.</p>
<p>For benchmarking I’ll use  <strong>+ Operator</strong>, <strong>StringBuilder</strong> class, and
<strong>string.Concat()</strong> method, so let’s start.</p>
<h5>Code:</h5>
<h5></h5>
<p><div
id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:e13392af-4b92-4c6a-981a-700a29b017d3"
class="wlWriterEditableSmartContent"
style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px"></p>
<p><div
style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"></p>
<div style="background: #ddd; overflow: auto">

1.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> nameUsingPlus
    =</span><span style="background:#000000;color:#a5c25c">"I will tell
    all of my friends about emadmokhtar.com today!"</span><span
    style="background:#000000;color:#ffffff">;</span>
2.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> plusWatch =</span><span
    style="background:#000000;color:#ffc66d">Stopwatch</span><span
    style="background:#000000;color:#ffffff">.StartNew();</span>
3.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">for</span><span
    style="background:#000000;color:#ffffff"> (</span><span
    style="background:#000000;color:#cc7832">int</span><span
    style="background:#000000;color:#ffffff"> i = 0; i &lt;
    10000; i++)</span>
4.  <span style="background:#000000;color:#ffffff">{</span>
5.      <span style="background:#000000;color:#ffffff">nameUsingPlus
    +=</span><span style="background:#000000;color:#a5c25c">" I will
    tell all of my friends about emadmokhtar.com today!"</span><span
    style="background:#000000;color:#ffffff">;</span>
6.  <span style="background:#000000;color:#ffffff">}</span>
7.  <span
    style="background:#000000;color:#ffffff">plusWatch.Stop();</span>
8.   
9.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> nameConcatMethod
    =</span><span style="background:#000000;color:#a5c25c">"I will tell
    all of my friends about emadmokhtar.com today!"</span><span
    style="background:#000000;color:#ffffff">;</span>
10. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> concatMethodWatch
    =</span><span
    style="background:#000000;color:#ffc66d">Stopwatch</span><span
    style="background:#000000;color:#ffffff">.StartNew();</span>
11. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">for</span><span
    style="background:#000000;color:#ffffff"> (</span><span
    style="background:#000000;color:#cc7832">int</span><span
    style="background:#000000;color:#ffffff"> i = 0; i &lt;
    10000; i++)</span>
12. <span style="background:#000000;color:#ffffff">{</span>
13.     <span style="background:#000000;color:#ffffff">nameConcatMethod
    =</span><span
    style="background:#000000;color:#cc7832">string</span><span
    style="background:#000000;color:#ffffff">.Concat(nameConcatMethod,</span><span
    style="background:#000000;color:#a5c25c">" I will tell all of my
    friends about emadmokhtar.com today!"</span><span
    style="background:#000000;color:#ffffff">);</span>
14. <span style="background:#000000;color:#ffffff">}</span>
15. <span
    style="background:#000000;color:#ffffff">concatMethodWatch.Stop();</span>
16.  
17. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> nameStringBuilder
    =</span><span
    style="background:#000000;color:#cc7832">new</span><span
    style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#ffc66d">StringBuilder</span><span
    style="background:#000000;color:#ffffff">(</span><span
    style="background:#000000;color:#a5c25c">"I will tell all of my
    friends about emadmokhtar.com today!"</span><span
    style="background:#000000;color:#ffffff">);</span>
18. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> stringBuilderWatch
    =</span><span
    style="background:#000000;color:#ffc66d">Stopwatch</span><span
    style="background:#000000;color:#ffffff">.StartNew();</span>
19. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">for</span><span
    style="background:#000000;color:#ffffff"> (</span><span
    style="background:#000000;color:#cc7832">int</span><span
    style="background:#000000;color:#ffffff"> i = 0; i &lt;
    1000000; i++)</span>
20. <span style="background:#000000;color:#ffffff">{</span>
21.     <span
    style="background:#000000;color:#ffffff">nameStringBuilder.Append(</span><span
    style="background:#000000;color:#a5c25c">" I will tell all of my
    friends about emadmokhtar.com today!"</span><span
    style="background:#000000;color:#ffffff">);</span>
22. <span style="background:#000000;color:#ffffff">}</span>
23.  
24. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">var</span><span
    style="background:#000000;color:#ffffff"> name =
    nameStringBuilder.ToString();</span>
25. <span
    style="background:#000000;color:#ffffff">stringBuilderWatch.Stop();</span>
26.  
27.  
28. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#ffc66d">Console</span><span
    style="background:#000000;color:#ffffff">.WriteLine(</span><span
    style="background:#000000;color:#a5c25c">"Plus Oprator took
    {</span><span
    style="background:#000000;color:#3cb371">0}</span><span
    style="background:#000000;color:#a5c25c">"</span><span
    style="background:#000000;color:#ffffff">,
    plusWatch.Elapsed.Milliseconds);</span>
29. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#ffc66d">Console</span><span
    style="background:#000000;color:#ffffff">.WriteLine(</span><span
    style="background:#000000;color:#a5c25c">"String.Concat() took
    {</span><span
    style="background:#000000;color:#3cb371">0}</span><span
    style="background:#000000;color:#a5c25c">"</span><span
    style="background:#000000;color:#ffffff">,
    concatMethodWatch.Elapsed.Milliseconds);</span>
30. <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#ffc66d">Console</span><span
    style="background:#000000;color:#ffffff">.WriteLine(</span><span
    style="background:#000000;color:#a5c25c">"StringBuilder took
    {</span><span
    style="background:#000000;color:#3cb371">0}</span><span
    style="background:#000000;color:#a5c25c">"</span><span
    style="background:#000000;color:#ffffff">,
    stringBuilderWatch.Elapsed.Milliseconds);</span>

</div>

</div>

</div>

<p>

</h5>
##### Results:

[![stringbench](http://www.emadmokhtar.com/wp-content/uploads/stringbench_thumb1.png "stringbench"){width="640"
height="324"}](http://www.emadmokhtar.com/wp-content/uploads/stringbench1.png)

Please note in code I benchmarked **+ operator** and **String.Concat()**
method for 10000 times and **StringBuilder** for 1000000 times and
**StringBuilder** is still the most efficient way to concatenate strings
in C\#.

##### Explanation:

String in .NET Framework is immutable so you can’t change String after
assign a value for it. When you use + Operator or String,Concat() to
concatunate two strings it’ll create a third string and assign the first
and second string values to it.

this line of code

<div
id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:de39e50f-6fdd-44c6-a2c4-2f1d9beea178"
class="wlWriterEditableSmartContent"
style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px">

<div
style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt">

<div style="background: #fff; max-height: 300px; overflow: auto">

1.  <span style="background:#000000;color:#cc7832">string</span><span
    style="background:#000000;color:#ffffff"> fullName =</span><span
    style="background:#000000;color:#a5c25c">"Emad"</span><span
    style="background:#000000;color:#ffffff"> +</span><span
    style="background:#000000;color:#a5c25c">"Mokhtar"</span><span
    style="background:#000000;color:#ffffff">;</span>

</div>

</div>

</div>

[![string2](http://www.emadmokhtar.com/wp-content/uploads/string2_thumb.png "string2"){width="912"
height="335"}](http://www.emadmokhtar.com/wp-content/uploads/string2.png)

is equivalents to this snippet

<div
id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:f702ccd7-fc2f-46dc-b529-7843aa688a2a"
class="wlWriterEditableSmartContent"
style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px">

<div
style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt">

<div style="background: #fff; max-height: 300px; overflow: auto">

1.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">string</span><span
    style="background:#000000;color:#ffffff"> firstName =</span><span
    style="background:#000000;color:#a5c25c">"Emad"</span><span
    style="background:#000000;color:#ffffff">;</span>
2.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">string</span><span
    style="background:#000000;color:#ffffff"> lastName =</span><span
    style="background:#000000;color:#a5c25c">"Mokhtar"</span><span
    style="background:#000000;color:#ffffff">;</span>
3.  <span style="background:#000000;color:#ffffff"></span><span
    style="background:#000000;color:#cc7832">string</span><span
    style="background:#000000;color:#ffffff"> fullName = firstName +
    lastName;</span>

</div>

</div>

</div>

[![string](http://www.emadmokhtar.com/wp-content/uploads/string_thumb.png "string"){width="921"
height="342"}](http://www.emadmokhtar.com/wp-content/uploads/string.png)

But when you use **StringBuilder** class C\# compiler will take care of
memory allocations by using the same C/C++ characters array concept and
produce the string object once you call **ToString()** method.
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/csharp.html">csharp</a>
    </p>
  </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'emadmokhtarsframework';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</article>

    <footer>
        <p>&copy; Emad Mokhtar </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "C# String Concatenation Best Practice",
  "headline": "C# String Concatenation Best Practice",
  "datePublished": "2014-06-18 11:57:00+03:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "EmadMokhtar",
    "url": "/author/emadmokhtar.html"
  },
  "image": "/images/profile.jpg",
  "url": "/c-string-concatenation-best-practice.html",
  "description": "Once I’ve start to learn .NET and C# I heard about the difference between string + concatenation operator and StringBuilder class in C# and how to use them and which on is better to perform string concatenation, so I thought to give it a real benchmark and see the results ..."
}
</script></body>
</html>